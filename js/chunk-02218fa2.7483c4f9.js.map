{"version":3,"sources":["webpack:///./src/views/home/componentDemo/amap/index.vue?9a14","webpack:///./src/components/vue/amap/index.vue?6525","webpack:///src/components/vue/amap/index.vue","webpack:///./src/components/vue/amap/index.vue?18a7","webpack:///./src/components/vue/amap/index.vue","webpack:///src/views/home/componentDemo/amap/index.vue","webpack:///./src/views/home/componentDemo/amap/index.vue?8d9a","webpack:///./src/views/home/componentDemo/amap/index.vue","webpack:///./src/components/vue/amap/index.vue?0d7a"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","directives","name","rawName","value","mapComplete","expression","staticClass","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,MAAM,CAAC,OAAS,aACvHC,EAAkB,GCDlB,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,OAAQX,EAAIY,YAAaC,WAAW,iBAAiBC,YAAY,SAASR,MAAM,CAAC,uBAAuB,WAAW,0BAA0B,kBAAkB,6BAA6B,sBAAsB,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAC/X,EAAkB,G,iECatB,GACA,YACA,OACA,eAEA,KALA,WAMA,OACA,OACA,eACA,eACA,aACA,6DAGA,QAdA,WAeA,mBAEA,SAUA,SAEA,WAFA,WAEA,8KACA,qBADA,UACA,EADA,OAEA,EAFA,iDAGA,kCACA,YAJA,8CAOA,QATA,WASA,WACA,iCACA,uDACA,0CACA,6BACA,SACA,OACA,gBACA,gBACA,eACA,qBACA,mBACA,cACA,gBACA,SACA,OAEA,oCAIA,2CAEA,iBACA,oBACA,UACA,UACA,YAEA,qBAMA,mCACA,iBAGA,kBAyBA,OAzEA,SAyEA,GAEA,gDACA,WAEA,gBACA,WACA,cACA,yBACA,OACA,SACA,UAEA,iBACA,SAGA,4BACA,kBACA,UACA,sBACA,eACA,gBAsBA,UArHA,WAqHA,WACA,uCAEA,oBACA,uBACA,6BACA,4BACA,OACA,iCACA,4BACA,oCACA,sBACA,cACA,cACA,mBACA,qBAKA,OADA,iBACA,QClL6W,I,wBCQzWS,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCdf,GACA,YACA,QAEA,KAJA,WAKA,UAEA,QAPA,aAQA,YCb4X,ICOxX,EAAY,eACd,EACAhB,EACAQ,GACA,EACA,KACA,KACA,MAIa,e,2CClBf,W","file":"js/chunk-02218fa2.7483c4f9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('amap',{attrs:{\"adcode\":\"341500\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(!_vm.mapComplete),expression:\"!mapComplete\"}],staticClass:\"mapBox\",attrs:{\"element-loading-text\":\"地图绘制中...\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(1,6,29, 0.5)\"}},[_c('div',{attrs:{\"id\":\"amap\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tclass=\"mapBox\"\n\t\tv-loading=\"!mapComplete\"\n\t\telement-loading-text=\"地图绘制中...\"\n\t\telement-loading-spinner=\"el-icon-loading\"\n\t\telement-loading-background=\"rgba(1,6,29, 0.5)\"\n\t>\n\t\t<div id=\"amap\"></div>\n\t</div>\n</template>\n<script>\nimport AMap from 'AMap';\n\nexport default {\n\tname: 'amap',\n\tprops: {\n\t\tadcode: String,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmap: {},\n\t\t\tmapComplete: false, // 地图是否绘制完成\n\t\t\tcurrentArea: {}, // // 当前高亮区域\n\t\t\tpolylines: [], // 区域边线\n\t\t\tlevels: ['country', 'province', 'city', 'district', 'biz_area'], // 地图级别\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.getMapData()\n\t},\n\twatch: {\n\t\t// 监听地图经纬度绘制数据\n\t\t// adcode: {\n\t\t// \thandler(newV, oldV) {\n\t\t// \t\tthis.drawMap()\n\t\t// \t},\n\t\t// \timmediate: false,\n\t\t// \tdeep: true,\n\t\t// },\n\t},\n\tmethods: {\n\t\t// 获取行政区域经纬度数据-更详细的需要自己绘制\n\t\tasync getMapData() {\n\t\t\tconst res = await this.$svc.api_map_get() // 只有当前层区域数据\n\t\t\tif (!res) return\n\t\t\tthis.mapdata = res.data.data.features[0]\n\t\t\tthis.drawMap()\n\t\t},\n\t\t// 绘制地图\n\t\tdrawMap() {\n\t\t\tconst center = this.mapdata.properties.center\n\t\t\tconst zoom = 7 + this.levels.indexOf(this.mapdata.properties.level)\n\t\t\tconst mask = this.mapdata.geometry.coordinates[0][0]\n\t\t\tthis.map = new AMap.Map('amap', {\n\t\t\t\tcenter: center, //中心点位置\n\t\t\t\tmask: mask, //边界信息，库中获取\n\t\t\t\tresizeEnable: true,\n\t\t\t\trotateEnable: true,\n\t\t\t\tpitchEnable: true,\n\t\t\t\tbuildingAnimation: true, //楼块出现是否带动画\n\t\t\t\texpandZoomRange: true,\n\t\t\t\tviewMode: '3D', //三维地图\n\t\t\t\tlabelzIndex: 130,\n\t\t\t\tpitch: 55, //倾斜度\n\t\t\t\tzoom: zoom, //缩放级别\n\t\t\t\t// skyColor: '#1a4e76', //指定天空颜色\n\t\t\t\tmapStyle: 'amap://styles/darkblue', //添加自定义样式\n\t\t\t})\n\n\t\t\t// 地图控件\n\t\t\tAMap.plugin(['AMap.ControlBar'], () => {\n\t\t\t\t// 添加 3D 罗盘控制\n\t\t\t\tthis.map.addControl(\n\t\t\t\t\tnew AMap.ControlBar({\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\tright: '0',\n\t\t\t\t\t\t\tbottom: '0',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshowZoomBar: false,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t})\n\n\t\t\t// 添加其他覆盖物和图层\n\t\t\tthis.map.on('complete', () => {\n\t\t\t\tthis.mapComplete = true\n\n\t\t\t\t// 绘制轮廓\n\t\t\t\tthis.draw3D([mask])\n\t\t\t\t// this.drawTitle()\n\n\t\t\t\t// 绑定事件\n\t\t\t\t// this.map.on('mousemove', (e) => {\n\t\t\t\t// \tconst point = [e.lnglat.getLng(), e.lnglat.getLat()]\n\t\t\t\t// \t// 判断点在哪个区内\n\t\t\t\t// \tthis.mapdata.features.some((item) => {\n\t\t\t\t// \t\tconst path = item.geometry.coordinates[0]\n\t\t\t\t// \t\tvar isPointInRing = AMap.GeometryUtil.isPointInRing(\n\t\t\t\t// \t\t\tpoint,\n\t\t\t\t// \t\t\tpath\n\t\t\t\t// \t\t)\n\t\t\t\t// \t\tif (\n\t\t\t\t// \t\t\tisPointInRing &&\n\t\t\t\t// \t\t\tthis.currentArea.community_id !=\n\t\t\t\t// \t\t\t\titem.properties.community_id\n\t\t\t\t// \t\t) {\n\t\t\t\t// \t\t\tthis.currentArea = item.properties\n\t\t\t\t// \t\t}\n\t\t\t\t// \t\treturn isPointInRing\n\t\t\t\t// \t})\n\t\t\t\t// })\n\t\t\t})\n\t\t},\n\t\tdraw3D(bounds) {\n\t\t\t//添加高度面\n\t\t\tvar object3Dlayer = (this.object3Dlayer = new AMap.Object3DLayer({\n\t\t\t\tzIndex: 1,\n\t\t\t}))\n\t\t\tthis.map.add(object3Dlayer)\n\t\t\tvar height = -8000\n\t\t\tvar color = '#0088ffcc' //rgba\n\t\t\tvar wall = new AMap.Object3D.Wall({\n\t\t\t\tpath: bounds,\n\t\t\t\theight: height,\n\t\t\t\tcolor: color,\n\t\t\t})\n\t\t\twall.transparent = true\n\t\t\tobject3Dlayer.add(wall)\n\n\t\t\t//添加描边\n\t\t\tfor (var i = 0; i < bounds.length; i += 1) {\n\t\t\t\tnew AMap.Polyline({\n\t\t\t\t\tpath: bounds[i],\n\t\t\t\t\tstrokeColor: '#57cbff',\n\t\t\t\t\tstrokeWeight: 4,\n\t\t\t\t\tmap: this.map,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// 添加区域描边\n\t\t\t// for (i = 0; i < this.mapdata.features.length; i++) {\n\t\t\t// \tvar polyline = new AMap.Polyline({\n\t\t\t// \t\tpath: this.mapdata.features[i].geometry.coordinates[0],\n\t\t\t// \t\tstrokeColor: '#57cbff',\n\t\t\t// \t\tstrokeOpacity: 0.5,\n\t\t\t// \t\tstrokeWeight: 2,\n\t\t\t// \t\tmap: this.map,\n\t\t\t// \t\textData: {\n\t\t\t// \t\t\t// 方便高亮\n\t\t\t// \t\t\tcommunity_id: this.mapdata.features[i].properties\n\t\t\t// \t\t\t\t.community_id,\n\t\t\t// \t\t},\n\t\t\t// \t})\n\t\t\t// \tthis.polylines.push(polyline)\n\t\t\t// }\n\t\t},\n\t\t// 绘制区域名称\n\t\tdrawTitle() {\n\t\t\tthis.mapdata.features.map((item) => {\n\t\t\t\t// 添加文字\n\t\t\t\tvar text = new AMap.Text({\n\t\t\t\t\ttext: item.properties.name,\n\t\t\t\t\tposition: item.properties.center,\n\t\t\t\t\toffset: new AMap.Pixel(0, -50),\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t'background-color': 'transparent',\n\t\t\t\t\t\t'-webkit-text-stroke': 'red',\n\t\t\t\t\t\t'-webkit-text-stroke-width': '0.5px',\n\t\t\t\t\t\t'text-align': 'center',\n\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t'font-size': '24px',\n\t\t\t\t\t\t'font-weight': 600,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\ttext.setMap(this.map)\n\t\t\t\treturn false\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.mapBox,\n#amap {\n\twidth: 100%;\n\theight: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=11b4165a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=11b4165a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11b4165a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<amap adcode=\"341500\" />\n</template>\n<script>\nimport amap from '@/components/vue/amap/index'\nexport default {\n\tcomponents: {\n\t\tamap,\n\t},\n\tdata() {\n\t\treturn {}\n\t},\n\tmounted() {},\n\tmethods: {},\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2d92f5f1&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=11b4165a&lang=scss&scoped=true&\""],"sourceRoot":""}